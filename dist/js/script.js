function loadScript(){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=false&callback=initialize",document.body.appendChild(e)}function initialize(){function e(){var e=$(window).width();1080>=e?(map.setZoom(11),map.setCenter(i.center)):e>1080&&(map.setZoom(12),map.setCenter(i.center))}var i={zoom:14,center:new google.maps.LatLng(28.661898,77.227396),mapTypeControl:!1,disableDefaultUI:!0};$(window).width()>1080&&(i.zoom=12),$(window).width()<=1080&&(i.zoom=13),($(window).width()<850||$(window).height()<595)&&hideNav(),map=new google.maps.Map(document.getElementById("map-canvas"),i),setMarkers(markers),setAllMap(),$("#reset").click(function(){e()}),$(window).resize(function(){e()})}function setAllMap(){for(var e=0;e<markers.length;e++)markers[e].boolTest===!0?markers[e].holdMarker.setMap(map):markers[e].holdMarker.setMap(null)}function determineImage(){streetViewImage=streetViewUrl+markers[i].lat+","+markers[i].lng+"&fov=75&heading="+headingImageView[i]+"&pitch=10"}function setMarkers(e){for(i=0;i<e.length;i++){e[i].holdMarker=new google.maps.Marker({position:new google.maps.LatLng(e[i].lat,e[i].lng),map:map,title:e[i].title,icon:{url:"img/marker.png",size:new google.maps.Size(25,40),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(12.5,40)},shape:{coords:[1,25,-40,-25,1],type:"poly"}}),determineImage(),e[i].contentString='<img src="'+streetViewImage+'" alt="Street View Image of '+e[i].title+'"><br><hr style="margin-bottom: 5px"><strong>'+e[i].title+"</strong><br><p>"+e[i].streetAddress+"<br>"+e[i].cityAddress+'<br></p><a class="web-links" href="http://'+e[i].url+'" target="_blank">'+e[i].url+"</a>";var t=new google.maps.InfoWindow({content:markers[i].contentString});new google.maps.event.addListener(e[i].holdMarker,"click",function(i,a){function r(){i.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){i.setAnimation(null)},750)}return i.addListener("click",r),function(){t.setContent(e[a].contentString),t.open(map,this);var r=$(window).width();1080>=r?map.setZoom(14):r>1080&&map.setZoom(16),map.setCenter(i.getPosition()),e[a].picBoolTest=!0}}(e[i].holdMarker,i));var a=$("#nav"+i);a.click(function(i,a){return function(){t.setContent(e[a].contentString),t.open(map,i),map.setZoom(16),map.setCenter(i.getPosition()),e[a].picBoolTest=!0}}(e[i].holdMarker,i))}}function noNav(){$("#search-nav").animate({height:0},500),$("#arrow").attr("src","img/down-arrow.gif"),isNavVisible=!1}function yesNav(){$("#search-nav").show();var e=$("#scroller").height()+55;$(window).height()<600?$("#search-nav").animate({height:e-100},500,function(){$(this).css("height","auto").css("max-height",439)}):$("#search-nav").animate({height:e},500,function(){$(this).css("height","auto").css("max-height",549)}),$("#arrow").attr("src","img/up-arrow.gif"),isNavVisible=!0}function hideNav(){isNavVisible===!0?noNav():yesNav()}function hideWeather(){isWeatherImageVisible===!0?($("#weather-image-container").animate({height:0,paddingTop:0},300),isWeatherImageVisible=!1,hideWeatherArrow.attr("src","img/small-down-arrow.png")):($("#weather-image-container").animate({height:60,paddingTop:5},300),isWeatherImageVisible=!0,hideWeatherArrow.attr("src","img/small-up-arrow.png"))}var map,markersArray=[],i;window.onload=loadScript;var markers=[{title:"New Delhi Railway Station",lat:28.641785,lng:77.221719,streetAddress:"Bhavbhuti Marg, Kamla Market, Ajmeri Gate",cityAddress:"New Delhi 110006",url:"indiarailinfo.com/station/map/new-delhi-ndls/664",id:"nav0",visible:ko.observable(!0),boolTest:!0},{title:"The India Gate",lat:28.612912,lng:77.22951,streetAddress:"Rajpath Marg, India Gate",cityAddress:"New Delhi 110001",url:"www.delhitourism.gov.in/delhitourism/tourist_place/india_gate.jsp",id:"nav1",visible:ko.observable(!0),boolTest:!0},{title:"Connaught Place",lat:28.631451,lng:77.216667,streetAddress:"Connaught Place",cityAddress:"New Delhi 110001",url:"www.delhitourism.gov.in/delhitourism/shopping/connaught_place.jsp",id:"nav2",visible:ko.observable(!0),boolTest:!0},{title:"Karol Bagh",lat:28.652781,lng:77.192144,streetAddress:"Karol Bagh",cityAddress:"New Delhi 110005",url:"www.karolbaghmarket.co.in/",id:"nav3",visible:ko.observable(!0),boolTest:!0},{title:"Red Fort",lat:28.656159,lng:77.24102,streetAddress:"Netaji Subhash Marg, Lal Qila, Chandni Chowk",cityAddress:"New Delhi 110006",url:"www.delhitourism.gov.in/delhitourism/tourist_place/red_fort.jsp",id:"nav4",visible:ko.observable(!0),boolTest:!0},{title:"Jantar Mantar",lat:28.6271,lng:77.2166,streetAddress:"Jantar Mantar",cityAddress:"New Delhi 110001",url:"www.jantarmantar.org/",id:"nav5",visible:ko.observable(!0),boolTest:!0},{title:"Chandni Chowk",lat:28.656,lng:77.231,streetAddress:"chandni Chowk",cityAddress:"New Delhi 110006",url:"www.delhitourism.gov.in/delhitourism/shopping/chandni_chowk.jsp",id:"nav7",visible:ko.observable(!0),boolTest:!0}],headingImageView=[5,235,55,170,190,240,10],streetViewImage,streetViewUrl="https://maps.googleapis.com/maps/api/streetview?size=180x90&location=",viewModel={query:ko.observable("")};viewModel.markers=ko.dependentObservable(function(){var e=this,i=e.query().toLowerCase();return ko.utils.arrayFilter(markers,function(e){return e.title.toLowerCase().indexOf(i)>=0?(e.boolTest=!0,e.visible(!0)):(e.boolTest=!1,setAllMap(),e.visible(!1))})},viewModel),ko.applyBindings(viewModel),$("#input").keyup(function(){setAllMap()});var isNavVisible=!0;$("#arrow").click(hideNav),$(window).resize(function(){$(window).width();$(window).width()<850&&isNavVisible===!0?noNav():$(window).height()<595&&isNavVisible===!0&&noNav(),$(window).width()>=850&&isNavVisible===!1?$(window).height()>595&&yesNav():$(window).height()>=595&&isNavVisible===!1&&$(window).width()>850&&yesNav()});var weatherContainer=$("#weather-image-container"),isWeatherVisible=!1;weatherContainer.click(function(){isWeatherVisible===!1?($(window).width()<670?($(".forecast li").css("display","block"),weatherContainer.animate({width:"245"},500)):($(".forecast li").css("display","inline-block"),weatherContainer.animate({width:"380"},500)),isWeatherVisible=!0):(weatherContainer.animate({width:"80"},500),isWeatherVisible=!1)});var weatherUgUrl="http://api.wunderground.com/api/914d8c23425fe358/conditions/q/New Delhi.json";$.getJSON(weatherUgUrl,function(e){var i=$(".forecast ul"),t=e.current_observation;i.append("<li>Temp: "+t.temp_f+"Â° F</li>"),i.append('<li><img style="width: 25px" src="'+t.icon_url+'">  '+t.icon+"</li>")}).error(function(e){$(".forecast").append('<p style="text-align: center;">Sorry! Weather Underground</p><p style="text-align: center;">Could Not Be Loaded</p>')});var isWeatherImageVisible=!0,hideWeatherArrow=$("#hide-weather").find("img");$("#hide-weather").click(hideWeather);